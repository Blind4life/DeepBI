<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <title>222test</title>
  <script src="https://cdn.jsdelivr.net/npm/echarts/dist/echarts.min.js"></script>
  <script src="http://apps.bdimg.com/libs/jquery/1.6.4/jquery.js"></script>
  <link rel="stylesheet" type="text/css" href="/static/prettify/example1/style.css" />
</head>
<script>
  $(document).ready(function () {
    var whei = $(window).width();
    $("html").css({ fontSize: whei / 20 });
    $(window).resize(function () {
      var whei = $(window).width();
      $("html").css({ fontSize: whei / 20 });
    });
  });
</script>

<body>
  <div class="loading">
    <div class="loadbox">
      <img src="/static/prettify/example1/images/loading.gif" /> loading...
    </div>
  </div>
  <div style="display: none;" id="query_result">
    [{'id': 81, 'latest_query_data_id': 1877, 'chart_name': '流程测试010', 'chart_type': 'pie', 'data': {'columns': [{'name': 'Month', 'friendly_name': 'Month', 'type': 'integer'}, {'name': 'SalesAmount', 'friendly_name': 'SalesAmount', 'type': 'float'}], 'rows': [{'Month': 1, 'SalesAmount': 61439}, {'Month': 2, 'SalesAmount': 38424}, {'Month': 3, 'SalesAmount': 58937}]}, 'columnMapping': {'Month': 'x', 'SalesAmount': 'y'}, 'echart_code': "{\n   color: ['#36F097', '#3DFFDC', '#5A3FFF'],\n   tooltip: {\n      trigger: 'item',\n      formatter: '{a} <br/>{b} : {c} ({d}%)'\n   },\n   series: [\n      {\n         name: 'Sales Data',\n         type: 'pie',\n         roseType: 'radius',\n         radius: '70%',\n         center: ['50%', '50%'],\n         itemStyle: {\n            shadowBlur: 200,\n            shadowColor: 'rgba(0, 0, 0, 0.5)'\n         },\n         data: [\n            {value: 61439, name: 'January', itemStyle: {color: {type: 'linear', x: 0, y: 0, x2: 0, y2: 1, colorStops: [{offset: 0, color: '#8AD9F2'}, {offset: 1, color: '#36F097'}], globalCoord: false}}},\n            {value: 38424, name: 'February', itemStyle: {color: {type: 'linear', x: 0, y: 0, x2: 0, y2: 1, colorStops: [{offset: 0, color: '#A4F4E0'}, {offset: 1, color: '#3DFFDC'}], globalCoord: false}}},\n            {value: 58937, name: 'March', itemStyle: {color: {type: 'linear', x: 0, y: 0, x2: 0, y2: 1, colorStops: [{offset: 0, color: '#B5B9FF'}, {offset: 1, color: '#5A3FFF'}], globalCoord: false}}}\n         ],\n         labelLine: {\n            show: true,\n            lineStyle: {\n               color: 'rgba(255, 255, 255, 0.5)',\n               curveness: 0.2\n            }\n         },\n         label: {\n            show: true,\n            formatter: '{b}\\n{d}%',\n            color: '#fff',\n            backgroundColor: 'rgba(0,32,109,0.6)',\n            borderRadius: 4,\n            padding: [5, 5],\n            rich: {\n               b: {\n                  fontSize: 16,\n                  lineHeight: 33\n               },\n               per: {\n                  color: '#eee',\n                  backgroundColor: '#334455',\n                  padding: [2, 4],\n                  borderRadius: 2\n               }\n            }\n         },\n         emphasis: {\n            label: {\n               show: true,\n               fontSize: '20',\n               fontWeight: 'bold'\n            }\n         },\n         animationType: 'scale',\n         animationEasing: 'elasticOut',\n         animationDelay: function (idx) {\n            return Math.random() * 200;\n         }\n      }\n   ]\n}"}, {'id': 82, 'latest_query_data_id': 1876, 'chart_name': '流程测试010', 'chart_type': 'area', 'data': {'columns': [{'name': 'Month', 'friendly_name': 'Month', 'type': 'integer'}, {'name': 'Total_Sales', 'friendly_name': 'Total_Sales', 'type': 'float'}], 'rows': [{'Month': 1, 'Total_Sales': 61439}, {'Month': 2, 'Total_Sales': 38424}, {'Month': 3, 'Total_Sales': 58937}]}, 'columnMapping': {'Month': 'x', 'Total_Sales': 'y'}, 'echart_code': "{\n  tooltip: {\n    trigger: 'axis',\n    axisPointer: {\n      type: 'shadow'\n    }\n  },\n  legend: {\n    data: ['Total Sales'],\n    textStyle: {\n      color: '#ffffff'\n    }\n  },\n  xAxis: {\n    type: 'category',\n    boundaryGap: false,\n    data: [1, 2, 3],\n    axisLine: {\n      lineStyle: {\n        color: '#ffffff'\n      }\n    }\n  },\n  yAxis: {\n    type: 'value',\n    axisLine: {\n      lineStyle: {\n        color: '#ffffff'\n      }\n    },\n    splitLine: {\n      lineStyle: {\n        color: '#1f2022',\n        width: 1,\n        type: 'dashed'\n      }\n    }\n  },\n  series: [{\n    name: 'Total Sales',\n    type: 'line',\n    stack: 'Total',\n    areaStyle: {\n      normal: {\n        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n          offset: 0,\n          color: 'rgba(58,77,233, 0.8)' // 0% 处的颜色\n        }, {\n          offset: 1,\n          color: 'rgba(58,77,233, 0)' // 100% 处的颜色\n        }], false),\n        shadowBlur: 10\n      }\n    },\n    emphasis: {\n      focus: 'series'\n    },\n    data: [61439, 38424, 58937]\n  }],\n  color: ['#3398DB'],\n  grid: {\n    left: '3%',\n    right: '4%',\n    bottom: '3%',\n    containLabel: true\n  },\n  animationEasing: 'elasticOut',\n  animationDelayUpdate: function (idx) {\n    return idx * 5;\n  }\n}"}, {'id': 95, 'latest_query_data_id': 1918, 'chart_name': 'sales_analysis', 'chart_type': 'line', 'data': {'columns': [{'name': 'Month', 'friendly_name': 'Month', 'type': 'string'}, {'name': 'Total_Sales', 'friendly_name': 'Total_Sales', 'type': 'float'}, {'name': 'Quantity_of_Orders', 'friendly_name': 'Quantity_of_Orders', 'type': 'integer'}, {'name': 'Total_Profit', 'friendly_name': 'Total_Profit', 'type': 'float'}], 'rows': [{'Month': '2018-04', 'Total_Sales': 32726, 'Quantity_of_Orders': 101, 'Total_Profit': -3960}, {'Month': '2018-05', 'Total_Sales': 28545, 'Quantity_of_Orders': 118, 'Total_Profit': -3584}, {'Month': '2018-06', 'Total_Sales': 23658, 'Quantity_of_Orders': 101, 'Total_Profit': -4970}, {'Month': '2018-07', 'Total_Sales': 12966, 'Quantity_of_Orders': 64, 'Total_Profit': -2138}, {'Month': '2018-08', 'Total_Sales': 30899, 'Quantity_of_Orders': 120, 'Total_Profit': -2180}, {'Month': '2018-09', 'Total_Sales': 26628, 'Quantity_of_Orders': 83, 'Total_Profit': -4963}, {'Month': '2018-10', 'Total_Sales': 31615, 'Quantity_of_Orders': 106, 'Total_Profit': 3093}, {'Month': '2018-11', 'Total_Sales': 48086, 'Quantity_of_Orders': 159, 'Total_Profit': 11619}, {'Month': '2018-12', 'Total_Sales': 37579, 'Quantity_of_Orders': 111, 'Total_Profit': 5284}, {'Month': '2019-01', 'Total_Sales': 61439, 'Quantity_of_Orders': 192, 'Total_Profit': 9760}, {'Month': '2019-02', 'Total_Sales': 38424, 'Quantity_of_Orders': 140, 'Total_Profit': 5917}, {'Month': '2019-03', 'Total_Sales': 58937, 'Quantity_of_Orders': 205, 'Total_Profit': 10077}]}, 'columnMapping': {'Month': 'x', 'Total_Sales': 'y', 'Quantity_of_Orders': 'y', 'Total_Profit': 'y'}, 'echart_code': '{\n    color: [\'#FFF500\'],\n    tooltip: {\n      trigger: \'axis\',\n      axisPointer: {\n        type: \'line\',\n        lineStyle: {\n          color: \'#FFF500\',\n          opacity: 0.5\n        }\n      }\n    },\n    grid: {\n      left: \'3%\',\n      right: \'4%\',\n      bottom: \'3%\',\n      containLabel: true,\n      borderColor: \'rgba(255, 255, 255, 0.1)\'\n    },\n    xAxis: {\n      type: \'category\',\n      boundaryGap: false,\n      data: [\'2018-04\',\'2018-05\',\'2018-06\',\'2018-07\',\'2018-08\',\'2018-09\',\'2018-10\',\'2018-11\',\'2018-12\',\'2019-01\',\'2019-02\',\'2019-03\'],\n      axisTick:{\n        show:false\n      },\n      splitLine: {\n        show: false,\n      },\n      axisLine:{\n        lineStyle:{\n          color: \'rgba(255, 255, 255, 0.5)\'\n        }\n      },\n      axisLabel: {\n        color: "#FFF",\n        fontSize:14\n      }\n    },\n    yAxis: {\n      type: \'value\',\n      axisTick:{\n        show:false\n      },\n      splitLine: {\n        lineStyle: {\n          type:\'dotted\',\n          color:\'rgba(255, 255, 255, 0.1)\'\n        }\n      },\n      axisLine:{\n        lineStyle:{\n          color: \'rgba(255, 255, 255, 0.5)\'\n        }\n      }\n    },\n    series: [\n      {\n        name: \'Total Sales\',\n        type: \'line\',\n        smooth: true, // Change this to false for a polygonal line\n        symbol: \'circle\', // Change to \'rect\', \'triangle\', \'diamond\', etc.\n        symbolSize: 8,\n        showSymbol: true,\n        lineStyle: {\n          width: 3,\n          type: \'dotted\', // solid, dotted, or dashed\n          color: \'#FFF500\',\n          shadowColor: \'rgba(255, 245, 0, 0.5)\',\n          shadowBlur: 10\n        },\n        areaStyle: {\n          normal: {\n            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n              offset: 0,\n              color: \'rgba(255, 245, 0, 0.3)\'\n            }, {\n              offset: 0.8,\n              color: \'rgba(255, 245, 0, 0)\'\n            }]),\n          }\n        },\n        emphasis: {\n          focus: \'series\'\n        },\n        data: [32726, 28545, 23658, 12966, 30899, 26628, 31615, 48086, 37579, 61439, 38424, 58937],\n        markLine: {\n          silent: true,\n          lineStyle: {\n            color: \'rgba(255, 255, 255, 0.3)\',\n            type:\'dotted\',\n          },\n          data: [{ type: \'average\', name: \'Average\' }]\n        }\n      }\n    ],\n    animationDuration: 2000\n}'}, {'id': 99, 'latest_query_data_id': 1918, 'chart_name': 'sales_analysis', 'chart_type': 'line', 'data': {'columns': [{'name': 'Month', 'friendly_name': 'Month', 'type': 'string'}, {'name': 'Total_Sales', 'friendly_name': 'Total_Sales', 'type': 'float'}, {'name': 'Quantity_of_Orders', 'friendly_name': 'Quantity_of_Orders', 'type': 'integer'}, {'name': 'Total_Profit', 'friendly_name': 'Total_Profit', 'type': 'float'}], 'rows': [{'Month': '2018-04', 'Total_Sales': 32726, 'Quantity_of_Orders': 101, 'Total_Profit': -3960}, {'Month': '2018-05', 'Total_Sales': 28545, 'Quantity_of_Orders': 118, 'Total_Profit': -3584}, {'Month': '2018-06', 'Total_Sales': 23658, 'Quantity_of_Orders': 101, 'Total_Profit': -4970}, {'Month': '2018-07', 'Total_Sales': 12966, 'Quantity_of_Orders': 64, 'Total_Profit': -2138}, {'Month': '2018-08', 'Total_Sales': 30899, 'Quantity_of_Orders': 120, 'Total_Profit': -2180}, {'Month': '2018-09', 'Total_Sales': 26628, 'Quantity_of_Orders': 83, 'Total_Profit': -4963}, {'Month': '2018-10', 'Total_Sales': 31615, 'Quantity_of_Orders': 106, 'Total_Profit': 3093}, {'Month': '2018-11', 'Total_Sales': 48086, 'Quantity_of_Orders': 159, 'Total_Profit': 11619}, {'Month': '2018-12', 'Total_Sales': 37579, 'Quantity_of_Orders': 111, 'Total_Profit': 5284}, {'Month': '2019-01', 'Total_Sales': 61439, 'Quantity_of_Orders': 192, 'Total_Profit': 9760}, {'Month': '2019-02', 'Total_Sales': 38424, 'Quantity_of_Orders': 140, 'Total_Profit': 5917}, {'Month': '2019-03', 'Total_Sales': 58937, 'Quantity_of_Orders': 205, 'Total_Profit': 10077}]}, 'columnMapping': {'Month': 'x', 'Total_Sales': 'y', 'Quantity_of_Orders': 'y', 'Total_Profit': 'y'}, 'echart_code': '{\n  color: [\'#165DFF\'],\n  tooltip: {\n    show: false,\n    trigger: \'axis\',\n    axisPointer: {\n      type: \'shadow\'\n    }\n  },\n  grid: {\n    left: \'0%\',\n    right: \'5%\',\n    bottom: \'0%\',\n    containLabel: true\n  },\n  xAxis: [\n    {\n      type: \'category\',\n      data: ["2018-04", "2018-05", "2018-06", "2018-07", "2018-08", "2018-09", "2018-10", "2018-11", "2018-12", "2019-01", "2019-02", "2019-03"],\n      boundaryGap: false,\n      axisTick: {\n        show: false\n      },\n      splitLine: {\n        show: false\n      },\n      axisLine: {\n        show: false\n      },\n      axisLabel: {\n        interval: 0,\n        color: \'#86909C\',\n        fontSize: 14\n      }\n    }\n  ],\n  yAxis: [\n    {\n      type: \'value\',\n      show: false,\n      axisLabel: {\n        color: \'rgba(230, 247, 255, 0.50)\',\n        fontSize: 16\n      },\n      splitLine: {\n        show: true,\n        lineStyle: {\n          type: \'dashed\',\n          color: \'rgba(230, 247, 255, 0.20)\'\n        }\n      }\n    }\n  ],\n  series: [\n    {\n      name: \'\',\n      type: \'line\',\n      smooth: true,\n      symbol: \'circle\',\n      symbolSize: 8,\n      tooltip: {\n        trigger: \'axis\'\n      },\n      lineStyle: {\n        width: 3,\n        color: \'#00BFFF\',\n        type: \'solid\',\n        shadowColor: \'rgba(0,191,255,0.4)\',\n        shadowBlur: 10\n      },\n      areaStyle: {\n        opacity: 0.8,\n        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n          {offset: 0, color: \'rgba(0, 191, 255, 0.5)\'},\n          {offset: 0.7, color: \'rgba(0, 191, 255, 0.05)\'}\n        ])\n      },\n      data: [32726, 28545, 23658, 12966, 30899, 26628, 31615, 48086, 37579, 61439, 38424, 58937],\n      animationDuration: 2000,\n      animationEasing: \'cubicInOut\'\n    }\n  ]\n}'}, {'id': 90, 'latest_query_data_id': 1893, 'chart_name': '流程测试010', 'chart_type': 'line', 'data': {'columns': [{'name': 'Month', 'friendly_name': 'Month', 'type': 'string'}, {'name': 'Total Sales', 'friendly_name': 'Total Sales', 'type': 'float'}], 'rows': [{'Month': '2019-01', 'Total Sales': 61439}, {'Month': '2019-02', 'Total Sales': 38424}, {'Month': '2019-03', 'Total Sales': 58937}]}, 'columnMapping': {'Month': 'x', 'Total Sales': 'y'}, 'echart_code': "{\n  color: ['#FFD700'], // Set the color of the line\n  tooltip: {\n    trigger: 'axis',\n    axisPointer: {\n      type: 'line'\n    }\n  },\n  grid: {\n    left: '3%',\n    right: '4%',\n    bottom: '3%',\n    containLabel: true\n  },\n  xAxis: {\n    type: 'category',\n    boundaryGap: false,\n    data: ['2019-01', '2019-02', '2019-03'], // Using the provided month data\n    axisLine: {\n      lineStyle: {\n        color: 'rgba(255,255,255,0.2)', // The xAxis line color\n      }\n    },\n    axisLabel: {\n      textStyle: {\n        color: 'rgba(255,255,255,0.7)', // The text color\n      }\n    }\n  },\n  yAxis: {\n    type: 'value',\n    splitLine: {\n      show: true,\n      lineStyle: {\n        color: 'rgba(255,255,255,0.1)' // The yAxis split line color\n      }\n    },\n    axisLine: {\n      lineStyle: {\n        color: 'rgba(255,255,255,0.2)', // The yAxis line color\n      }\n    },\n    axisLabel: {\n      textStyle: {\n        color: 'rgba(255,255,255,0.7)', // The text color\n      }\n    }\n  },\n  series: [{\n    name: 'Total Sales',\n    type: 'line',\n    smooth: true, // Smoothing the line\n    symbol: 'circle', // Data point shape\n    symbolSize: 8, // Data point size\n    showAllSymbol: true,\n    itemStyle: {\n      normal: {\n        color: '#FFD700', // Data point color\n        borderColor: 'rgba(221, 220, 107, .1)', // Data point border color\n        borderWidth: 12 // Data point border width\n      }\n    },\n    lineStyle: {\n      normal: {\n        width: 3, // Line width\n        shadowColor: 'rgba(255, 215, 0, .4)', // Shadow color\n        shadowBlur: 4, // Shadow blur\n        color: 'rgba(255, 215, 0, .6)' // Line color\n      }\n    },\n    areaStyle: {\n      normal: {\n        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n          offset: 0,\n          color: 'rgba(255, 215, 0, 0.4)'\n        }, {\n          offset: 0.8,\n          color: 'rgba(255, 215, 0, 0.1)'\n        }], false),\n        shadowColor: 'rgba(0, 0, 0, 0.1)',\n        shadowBlur: 10\n      }\n    },\n    data: [61439, 38424, 58937] // Using the provided Total Sales data\n  }],\n  animationDuration: 2000, // Animation duration\n  animationEasing: 'cubicInOut', // Animation easing function\n  animationDurationUpdate: 1000, // Animation duration update\n  animationEasingUpdate: 'cubicInOut' // Animation easing update\n}"}, {'id': 91, 'latest_query_data_id': 1893, 'chart_name': '流程测试010', 'chart_type': 'pie', 'data': {'columns': [{'name': 'Month', 'friendly_name': 'Month', 'type': 'string'}, {'name': 'Total Sales', 'friendly_name': 'Total Sales', 'type': 'float'}], 'rows': [{'Month': '2019-01', 'Total Sales': 61439}, {'Month': '2019-02', 'Total Sales': 38424}, {'Month': '2019-03', 'Total Sales': 58937}]}, 'columnMapping': {'Month': 'x', 'Total Sales': 'y'}, 'echart_code': "{\n   color: ['#6D5ACF', '#53D8FB', '#FFC75F', '#009F4D', '#FF6F91', '#AFB4FF'],\n   tooltip: {\n      trigger: 'item'\n   },\n   grid: {\n      left: '3%',\n      right: '4%',\n      bottom: '10%',\n      top: '10%',\n   },\n   series: [\n      {\n         name: 'Total Sales',\n         type: 'pie',\n         roseType: 'radius',\n         radius: '70%',\n         center: ['50%', '50%'],\n         itemStyle: {\n            shadowColor: 'rgba(0, 0, 0, 0.5)',\n            shadowBlur: 10,\n         },\n         label: {\n            show: true,\n            formatter: '{b}\\n{c} ({d}%)',\n            color: '#FFF'\n         },\n         labelLine: {\n            show: true,\n            lineStyle: {\n               color: '#FFF',\n               length: 10,\n               length2: 20\n            },\n         },\n         data: [\n            { value: 61439, name: '2019-01' },\n            { value: 38424, name: '2019-02' },\n            { value: 58937, name: '2019-03' }\n         ]\n      }\n   ],\n   animationEasing: 'elasticOut',\n   animationDuration: 1000,\n   backgroundColor: '#00206d'\n}"}, {'id': 88, 'latest_query_data_id': 1884, 'chart_name': '流程测试010', 'chart_type': 'bar', 'data': {'columns': [{'name': 'Date', 'friendly_name': 'Date', 'type': 'string'}, {'name': 'Total_Sales', 'friendly_name': 'Total_Sales', 'type': 'float'}, {'name': 'Total_Profit', 'friendly_name': 'Total_Profit', 'type': 'float'}], 'rows': [{'Date': '2019-01', 'Total_Sales': 61439, 'Total_Profit': 9760}, {'Date': '2019-02', 'Total_Sales': 38424, 'Total_Profit': 5917}, {'Date': '2019-03', 'Total_Sales': 58937, 'Total_Profit': 10077}]}, 'columnMapping': {'Date': 'x', 'Total_Sales': 'y'}, 'echart_code': "{\n  tooltip: {\n    trigger: 'axis',\n    axisPointer: {\n      type: 'shadow'\n    }\n  },\n  legend: {\n    data: ['Total Sales', 'Total Profit'],\n    textStyle: {\n      color: '#fff'\n    },\n    top: '6%'\n  },\n  grid: {\n    left: '3%',\n    right: '4%',\n    bottom: '3%',\n    containLabel: true\n  },\n  xAxis: {\n    type: 'category',\n    data: ['2019-01', '2019-02', '2019-03'],\n    axisLine: {\n      lineStyle: {\n        color: '#26D9FF'\n      }\n    },\n    axisTick: {\n      show: false\n    },\n    axisLabel: {\n      color: '#fff'\n    }\n  },\n  yAxis: [\n    {\n      type: 'value',\n      name: 'Total Sales',\n      min: 0,\n      axisLine: {\n        lineStyle: {\n          color: '#26D9FF'\n        }\n      },\n      splitLine: { show: false },\n      axisLabel: {\n        color: '#fff'\n      }\n    },\n    {\n      type: 'value',\n      name: 'Total Profit',\n      min: 0,\n      position: 'right',\n      axisLine: {\n        lineStyle: {\n          color: '#26D9FF'\n        }\n      },\n      splitLine: { show: false },\n      axisLabel: {\n        color: '#fff'\n      }\n    }\n  ],\n  series: [\n    {\n      name: 'Total Sales',\n      type: 'bar',\n      barWidth: '35%',\n      stack: 'Total',\n      itemStyle: {\n        borderRadius: [5, 5, 0, 0], // rounded corners for the bars\n        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n          {offset: 0, color: 'rgba(61,126,235,1)'},\n          {offset: 1, color: 'rgba(61,126,235,0)'}\n        ])\n      },\n      emphasis: {\n        focus: 'series'\n      },\n      data: [61439, 38424, 58937]\n    },\n    {\n      name: 'Total Profit',\n      type: 'bar',\n      barWidth: '35%',\n      yAxisIndex: 1,\n      stack: 'Total',\n      itemStyle: {\n        borderRadius: [5, 5, 0, 0],\n        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n          {offset: 0, color: 'rgba(255,185,0,1)'},\n          {offset: 1, color: 'rgba(255,185,0,0)'}\n        ])\n      },\n      emphasis: {\n        focus: 'series'\n      },\n      data: [9760, 5917, 10077]\n    }\n  ],\n  backgroundColor: '#00206d',\n  animationEasing: 'elasticOut', // animation effect\n  animationDelayUpdate: function (idx) {\n    return idx * 5;\n  }\n}"}, {'id': 100, 'latest_query_data_id': 1920, 'chart_name': 'category_wise_sales_analysis', 'chart_type': 'bar', 'data': {'columns': [{'name': 'category', 'friendly_name': 'category', 'type': 'string'}, {'name': 'sub_category', 'friendly_name': 'sub_category', 'type': 'string'}, {'name': 'Total_Sales', 'friendly_name': 'Total_Sales', 'type': 'float'}, {'name': 'Quantity_of_Orders', 'friendly_name': 'Quantity_of_Orders', 'type': 'integer'}], 'rows': [{'category': 'Furniture', 'sub_category': 'Bookcases', 'Total_Sales': 56861, 'Quantity_of_Orders': 79}, {'category': 'Clothing', 'sub_category': 'Stole', 'Total_Sales': 18546, 'Quantity_of_Orders': 192}, {'category': 'Clothing', 'sub_category': 'Hankerchief', 'Total_Sales': 14608, 'Quantity_of_Orders': 198}, {'category': 'Electronics', 'sub_category': 'Electronic Games', 'Total_Sales': 39168, 'Quantity_of_Orders': 79}, {'category': 'Electronics', 'sub_category': 'Phones', 'Total_Sales': 46119, 'Quantity_of_Orders': 83}, {'category': 'Clothing', 'sub_category': 'Saree', 'Total_Sales': 53511, 'Quantity_of_Orders': 210}, {'category': 'Clothing', 'sub_category': 'Trousers', 'Total_Sales': 30039, 'Quantity_of_Orders': 39}, {'category': 'Furniture', 'sub_category': 'Chairs', 'Total_Sales': 34222, 'Quantity_of_Orders': 74}, {'category': 'Clothing', 'sub_category': 'Kurti', 'Total_Sales': 3361, 'Quantity_of_Orders': 47}, {'category': 'Clothing', 'sub_category': 'T-shirt', 'Total_Sales': 7382, 'Quantity_of_Orders': 77}, {'category': 'Clothing', 'sub_category': 'Shirt', 'Total_Sales': 7555, 'Quantity_of_Orders': 69}, {'category': 'Clothing', 'sub_category': 'Leggings', 'Total_Sales': 2106, 'Quantity_of_Orders': 53}, {'category': 'Furniture', 'sub_category': 'Tables', 'Total_Sales': 22614, 'Quantity_of_Orders': 17}, {'category': 'Electronics', 'sub_category': 'Printers', 'Total_Sales': 58252, 'Quantity_of_Orders': 74}, {'category': 'Electronics', 'sub_category': 'Accessories', 'Total_Sales': 21728, 'Quantity_of_Orders': 72}, {'category': 'Furniture', 'sub_category': 'Furnishings', 'Total_Sales': 13484, 'Quantity_of_Orders': 73}, {'category': 'Clothing', 'sub_category': 'Skirt', 'Total_Sales': 1946, 'Quantity_of_Orders': 64}]}, 'columnMapping': {'category': 'x', 'sub_category': 'x_series', 'Total_Sales': 'y', 'Quantity_of_Orders': 'y'}, 'echart_code': "{\n  tooltip: {\n    trigger: 'axis',\n    axisPointer: {\n      type: 'shadow'\n    }\n  },\n  legend: {\n    data: ['Total Sales', 'Quantity of Orders'],\n    textStyle: {\n      color: '#FFFFFF'\n    }\n  },\n  grid: {\n    left: '3%',\n    right: '4%',\n    bottom: '3%',\n    containLabel: true\n  },\n  xAxis: {\n    type: 'value',\n    boundaryGap: [0, 0.01],\n    axisLine: {\n      lineStyle: {\n        color: '#FFFFFF'\n      }\n    }\n  },\n  yAxis: {\n    type: 'category',\n    data: ['Bookcases', 'Stole', 'Hankerchief', 'Electronic Games', 'Phones', 'Saree', 'Trousers', 'Chairs', 'Kurti', 'T-shirt', 'Shirt', 'Leggings', 'Tables', 'Printers', 'Accessories', 'Furnishings', 'Skirt'],\n    axisLine: {\n      lineStyle: {\n        color: '#FFFFFF'\n      }\n    }\n  },\n  series: [\n    {\n      name: 'Total Sales',\n      type: 'bar',\n      stack: 'total',\n      label: {\n        show: true,\n        position: 'insideRight',\n        color: '#000'\n      },\n      emphasis: {\n        focus: 'series'\n      },\n      data: [56861, 18546, 14608, 39168, 46119, 53511, 30039, 34222, 3361, 7382, 7555, 2106, 22614, 58252, 21728, 13484, 1946],\n      itemStyle: {\n        borderRadius: 5,\n        color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [\n          { offset: 0, color: '#83bff6' },\n          { offset: 0.5, color: '#188df0' },\n          { offset: 1, color: '#188df0' }\n        ])\n      }\n    },\n    {\n      name: 'Quantity of Orders',\n      type: 'bar',\n      stack: 'total',\n      label: {\n        show: true,\n        position: 'insideRight',\n        color: '#000'\n      },\n      emphasis: {\n        focus: 'series'\n      },\n      data: [79, 192, 198, 79, 83, 210, 39, 74, 47, 77, 69, 53, 17, 74, 72, 73, 64],\n      itemStyle: {\n        borderRadius: 5,\n        color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [\n          { offset: 0, color: '#23B7E5' },\n          { offset: 0.5, color: '#02a7f0' },\n          { offset: 1, color: '#02a7f0' }\n        ])\n      }\n    }\n  ],\n  animationDuration: 1500\n}"}, {'id': 89, 'latest_query_data_id': 1888, 'chart_name': '流程测试010', 'chart_type': 'area', 'data': {'columns': [{'name': 'month', 'friendly_name': 'month', 'type': 'string'}, {'name': 'total_sales', 'friendly_name': 'total_sales', 'type': 'float'}], 'rows': [{'month': '2019-01', 'total_sales': 61439}, {'month': '2019-02', 'total_sales': 38424}, {'month': '2019-03', 'total_sales': 58937}]}, 'columnMapping': {'month': 'x', 'total_sales': 'y'}, 'echart_code': '{\n  tooltip: {\n    trigger: "axis",\n    axisPointer: {\n      type: "shadow",\n      label: {\n        show: true\n      }\n    }\n  },\n  legend: {\n    data: ["总销售量"],\n    top: "2%",\n    right: \'10\',\n    textStyle: {\n      color: "#FFF",\n      fontSize: 16\n    }\n  },\n  xAxis: {\n    data: ["2019-01", "2019-02", "2019-03"],\n    axisLine: {\n      show: true,\n      lineStyle: {\n        color: \'#26D9FF\',\n        width: 2\n      }\n    },\n    axisTick: {\n      show: true\n    },\n    axisLabel: {\n      show: true,\n      textStyle: {\n        color: "#FFF",\n        fontSize: 16\n      }\n    },\n    splitArea: {\n      show: false\n    }\n  },\n  yAxis: {\n    type: "value",\n    splitLine: {\n      show: false\n    },\n    axisTick: {\n      show: true\n    },\n    axisLine: {\n      show: true,\n      lineStyle: {\n        color: \'#26D9FF\',\n        width: 2\n      }\n    },\n    axisLabel: {\n      show: true,\n      textStyle: {\n        color: "#FFF",\n        fontSize: 16\n      }\n    }\n  },\n  series: [\n    {\n      name: "总销售量",\n      type: "bar",\n      data: [61439, 38424, 58937],\n      barWidth: \'40%\',\n      itemStyle: {\n        color: new echarts.graphic.LinearGradient(\n          0, 0, 0, 1,\n          [\n            {offset: 0, color: \'rgba(15,197,243,1)\'},\n            {offset: 1, color: \'rgba(15,97,243,0)\'}\n          ]\n        ),\n        barBorderRadius: [6, 6, 0, 0],\n        shadowColor: \'rgba(0, 0, 0, 0.4)\',\n        shadowBlur: 10\n      },\n      emphasis: {\n        focus: \'series\'\n      },\n      animationEasing: "elasticOut",\n      animationDelayUpdate: function (idx) {\n        return idx * 5;\n      }\n    }\n  ],\n  backgroundColor: \'#00206d\'\n}'}, {'id': 96, 'latest_query_data_id': 1920, 'chart_name': 'category_wise_sales_analysis', 'chart_type': 'bar', 'data': {'columns': [{'name': 'category', 'friendly_name': 'category', 'type': 'string'}, {'name': 'sub_category', 'friendly_name': 'sub_category', 'type': 'string'}, {'name': 'Total_Sales', 'friendly_name': 'Total_Sales', 'type': 'float'}, {'name': 'Quantity_of_Orders', 'friendly_name': 'Quantity_of_Orders', 'type': 'integer'}], 'rows': [{'category': 'Furniture', 'sub_category': 'Bookcases', 'Total_Sales': 56861, 'Quantity_of_Orders': 79}, {'category': 'Clothing', 'sub_category': 'Stole', 'Total_Sales': 18546, 'Quantity_of_Orders': 192}, {'category': 'Clothing', 'sub_category': 'Hankerchief', 'Total_Sales': 14608, 'Quantity_of_Orders': 198}, {'category': 'Electronics', 'sub_category': 'Electronic Games', 'Total_Sales': 39168, 'Quantity_of_Orders': 79}, {'category': 'Electronics', 'sub_category': 'Phones', 'Total_Sales': 46119, 'Quantity_of_Orders': 83}, {'category': 'Clothing', 'sub_category': 'Saree', 'Total_Sales': 53511, 'Quantity_of_Orders': 210}, {'category': 'Clothing', 'sub_category': 'Trousers', 'Total_Sales': 30039, 'Quantity_of_Orders': 39}, {'category': 'Furniture', 'sub_category': 'Chairs', 'Total_Sales': 34222, 'Quantity_of_Orders': 74}, {'category': 'Clothing', 'sub_category': 'Kurti', 'Total_Sales': 3361, 'Quantity_of_Orders': 47}, {'category': 'Clothing', 'sub_category': 'T-shirt', 'Total_Sales': 7382, 'Quantity_of_Orders': 77}, {'category': 'Clothing', 'sub_category': 'Shirt', 'Total_Sales': 7555, 'Quantity_of_Orders': 69}, {'category': 'Clothing', 'sub_category': 'Leggings', 'Total_Sales': 2106, 'Quantity_of_Orders': 53}, {'category': 'Furniture', 'sub_category': 'Tables', 'Total_Sales': 22614, 'Quantity_of_Orders': 17}, {'category': 'Electronics', 'sub_category': 'Printers', 'Total_Sales': 58252, 'Quantity_of_Orders': 74}, {'category': 'Electronics', 'sub_category': 'Accessories', 'Total_Sales': 21728, 'Quantity_of_Orders': 72}, {'category': 'Furniture', 'sub_category': 'Furnishings', 'Total_Sales': 13484, 'Quantity_of_Orders': 73}, {'category': 'Clothing', 'sub_category': 'Skirt', 'Total_Sales': 1946, 'Quantity_of_Orders': 64}]}, 'columnMapping': {'category': 'x', 'sub_category': 'x_series', 'Total_Sales': 'y', 'Quantity_of_Orders': 'y'}, 'echart_code': '{\n  tooltip: {\n    trigger: "axis",\n    axisPointer: {\n      type: "shadow"\n    }\n  },\n  legend: {\n    data: ["Total_Sales", "Quantity_of_Orders"],\n    top: "5%",\n    textStyle: {\n      color: "#ffffff",\n      fontSize: 16\n    }\n  },\n  xAxis: {\n    type: "category",\n    data: ["Furniture", "Clothing", "Electronics"],\n    axisLine: {\n      lineStyle: {\n        color: \'#26D9FF\',\n        width:2\n      }\n    },\n    axisTick: {\n      alignWithLabel: true\n    },\n    axisLabel: {\n      textStyle: {\n        color: "#ffffff",\n        fontSize: 16\n      }\n    }\n  },\n  yAxis: [\n    {\n      type: "value",\n      name: "Total Sales ($)",\n      min: 0,\n      axisLine: {\n        lineStyle: {\n          color: \'#26D9FF\',\n          width:2\n        }\n      },\n      axisLabel: {\n        textStyle: {\n          color: "#ffffff",\n          fontSize: 16\n        }\n      },\n      splitLine: {\n        show: false\n      }\n    },\n    {\n      type: "value",\n      name: "Quantity of Orders",\n      min: 0,\n      position: "right",\n      axisLine: {\n        lineStyle: {\n          color: \'#26D9FF\',\n          width:2\n        }\n      },\n      axisLabel: {\n        textStyle: {\n          color: "#ffffff",\n          fontSize: 16\n        }\n      },\n      splitLine: {\n        show: false\n      }\n    }\n  ],\n  series: [\n    {\n      name: "Total_Sales",\n      type: "bar",\n      barWidth: 15,\n      stack: "total_sales",\n      itemStyle: {\n        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n          {offset: 0, color: \'rgba(255,205,86,1)\'},\n          {offset: 1, color: \'rgba(255,205,86,0)\'}\n        ]),\n        barBorderRadius: [6, 6, 0, 0]\n      },\n      emphasis: {\n        focus: \'series\'\n      },\n      data: [91105, 92267, 154267]\n    },\n    {\n      name: "Quantity_of_Orders",\n      type: "bar",\n      yAxisIndex: 1,\n      barWidth: 15,\n      stack: "quantity_orders",\n      itemStyle: {\n        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n          {offset: 0, color: \'rgba(54,162,235,1)\'},\n          {offset: 1, color: \'rgba(54,162,235,0)\'}\n        ]),\n        barBorderRadius: [6, 6, 0, 0]\n      },\n      emphasis: {\n        focus: \'series\'\n      },\n      data: [243, 936, 308]\n    }\n  ],\n  animationDuration: 1000\n}'}, {'id': 82, 'latest_query_data_id': 1876, 'chart_name': '流程测试010', 'chart_type': 'line', 'data': {'columns': [{'name': 'Month', 'friendly_name': 'Month', 'type': 'integer'}, {'name': 'Total_Sales', 'friendly_name': 'Total_Sales', 'type': 'float'}], 'rows': [{'Month': 1, 'Total_Sales': 61439}, {'Month': 2, 'Total_Sales': 38424}, {'Month': 3, 'Total_Sales': 58937}]}, 'columnMapping': {'Month': 'x', 'Total_Sales': 'y'}, 'echart_code': '{\n  color: [\'#FFD700\'],\n  tooltip: {\n    trigger: \'axis\',\n    axisPointer: {\n      type: \'shadow\'\n    }\n  },\n  grid: {\n    left: \'3%\',\n    right: \'4%\',\n    bottom: \'3%\',\n    containLabel: true\n  },\n  xAxis: {\n    type: \'category\',\n    data: [\'1\', \'2\', \'3\'],\n    axisTick: {\n      alignWithLabel: true\n    },\n    axisLine: {\n      lineStyle: {\n        color: \'#FFFFFF\'\n      }\n    },\n    axisLabel: {\n      textStyle: {\n        color: \'#FFFFFF\'\n      }\n    }\n  },\n  yAxis: {\n    type: \'value\',\n    axisLine: {\n      lineStyle: {\n        color: \'#FFFFFF\'\n      }\n    },\n    splitLine: {\n      lineStyle: {\n        color: \'#FFFFFF\',\n        type: \'dotted\'\n      }\n    },\n    axisLabel: {\n      textStyle: {\n        color: \'#FFFFFF\'\n      }\n    }\n  },\n  series: [{\n    data: [61439, 38424, 58937],\n    type: \'line\',\n    smooth: true,\n    symbol: \'circle\',\n    symbolSize: 8,\n    showSymbol: false,\n    lineStyle: {\n      normal: {\n        color: "#FFD700",\n        width: 2,\n        type: \'solid\'\n      }\n    },\n    itemStyle: {\n      normal: {\n        borderWidth: 3,\n        borderColor: \'#FFD700\',\n        color: \'#FFD700\'\n      }\n    },\n    areaStyle: {\n      normal: {\n        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n          offset: 0,\n          color: \'rgba(255,215,0,0.3)\'\n        }, {\n          offset: 1,\n          color: \'rgba(255,215,0,0)\'\n        }]),\n      }\n    },\n    markLine: {\n      data: [\n        {type: \'average\', name: \'Average\'}\n      ]\n    },\n    animationDuration: 2800,\n    animationEasing: \'cubicInOut\'\n  }]\n}'}, {'id': 87, 'latest_query_data_id': 1884, 'chart_name': '流程测试010', 'chart_type': 'bar', 'data': {'columns': [{'name': 'Date', 'friendly_name': 'Date', 'type': 'string'}, {'name': 'Total_Sales', 'friendly_name': 'Total_Sales', 'type': 'float'}, {'name': 'Total_Profit', 'friendly_name': 'Total_Profit', 'type': 'float'}], 'rows': [{'Date': '2019-01', 'Total_Sales': 61439, 'Total_Profit': 9760}, {'Date': '2019-02', 'Total_Sales': 38424, 'Total_Profit': 5917}, {'Date': '2019-03', 'Total_Sales': 58937, 'Total_Profit': 10077}]}, 'columnMapping': {'Date': 'x', 'Total_Sales': 'y'}, 'echart_code': '{\n  tooltip: {\n    trigger: "axis",\n    axisPointer: {\n      type: "shadow"\n    }\n  },\n  legend: {\n    data: ["Total Sales", "Total Profit"],\n    textStyle: {\n      color: "#eee",\n      fontSize: 16\n    },\n    top: "2%",\n    right: "10"\n  },\n  xAxis: {\n    data: ["2019-01", "2019-02", "2019-03"],\n    axisLine: {\n      lineStyle: {\n        color: \'#26D9FF\',\n        width: 2\n      }\n    },\n    axisTick: {\n      alignWithLabel: true\n    },\n    axisLabel: {\n      textStyle: {\n        color: "#eee",\n        fontSize: 16\n      }\n    },\n    splitArea: {\n      show: false\n    }\n  },\n  yAxis: [{\n    type: "value",\n    axisLine: {\n      lineStyle: {\n        color: \'#26D9FF\',\n        width: 2\n      }\n    },\n    axisTick: {\n      show: false\n    },\n    axisLabel: {\n      textStyle: {\n        color: "#eee",\n        fontSize: 16\n      }\n    },\n    splitLine: {\n      lineStyle: {\n        color: \'#1a1b4e\',\n        width: 1,\n        type: \'dashed\'\n      }\n    }\n  }],\n  series: [{\n      name: "Total Sales",\n      type: "bar",\n      stack: "business",\n      barWidth: \'30%\',\n      itemStyle: {\n        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n          offset: 0,\n          color: \'rgba(255, 255, 0, 1)\'\n        }, {\n          offset: 1,\n          color: \'rgba(255, 255, 0, 0.1)\'\n        }]),\n        barBorderRadius: [6, 6, 0, 0],\n        shadowColor: "rgba(255, 255, 0, 0.5)",\n        shadowBlur: 5\n      },\n      emphasis: {\n        focus: \'series\'\n      },\n      data: [61439, 38424, 58937]\n    },\n    {\n      name: "Total Profit",\n      type: "bar",\n      stack: "business",\n      barWidth: \'30%\',\n      itemStyle: {\n        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n          offset: 0,\n          color: \'rgba(0, 255, 255, 1)\'\n        }, {\n          offset: 1,\n          color: \'rgba(0, 255, 255, 0.1)\'\n        }]),\n        barBorderRadius: [6, 6, 0, 0],\n        shadowColor: "rgba(0, 255, 255, 0.5)",\n        shadowBlur: 5\n      },\n      emphasis: {\n        focus: \'series\'\n      },\n      data: [9760, 5917, 10077]\n    }\n  ],\n  animationDuration: 2000,\n  animationEasing: "elasticOut"\n}'}]
  </div>
  <div class="head">
    <h1>222test</h1>
    <h1 style="display: none" id="dashboardId">37</h1>
    <div class="weather"><span id="showTime"></span></div>
    <script>
      var t = null;
      t = setTimeout(time, 1000); //開始运行
      function time() {
        clearTimeout(t); //清除定时器
        dt = new Date();
        var y = dt.getFullYear();
        var mt = dt.getMonth() + 1;
        var day = dt.getDate();
        var h = dt.getHours(); //获取时
        var m = dt.getMinutes(); //获取分
        var s = dt.getSeconds(); //获取秒
        document.getElementById("showTime").innerHTML =
          y + "年" + mt + "月" + day + "日" + h + "时" + m + "分" + s + "秒";
        t = setTimeout(time, 1000); //设定定时器，循环运行
      }
    </script>
  </div>
  <div class="mainbox">
    <ul class="clearfix">
      <li>
         
        
        <div class="boxall">
          <div class="alltitle">流程测试010</div>
          <div style="height: 3.47rem" id="echart81"></div>
          <div class="boxfoot"></div>
        </div>
           
        
        <div class="boxall">
          <div class="alltitle">流程测试010</div>
          <div style="height: 3.47rem" id="echart82"></div>
          <div class="boxfoot"></div>
        </div>
                 
        
        <div class="boxall">
          <div class="alltitle">流程测试010</div>
          <div style="height: 3.47rem" id="echart91"></div>
          <div class="boxfoot"></div>
        </div>
           
        
        <div class="boxall">
          <div class="alltitle">流程测试010</div>
          <div style="height: 3.47rem" id="echart88"></div>
          <div class="boxfoot"></div>
        </div>
           
        
        <div class="boxall">
          <div class="alltitle">category_wise_sales_analysis</div>
          <div style="height: 3.47rem" id="echart100"></div>
          <div class="boxfoot"></div>
        </div>
                 
        
        <div class="boxall">
          <div class="alltitle">流程测试010</div>
          <div style="height: 3.47rem" id="echart87"></div>
          <div class="boxfoot"></div>
        </div>
          
      </li>

      <li>
        <div class="map">
          <div class="map1">
            <img src="/static/prettify/example1/images/lbx.png" />
          </div>
          <div class="map2">
            <img src="/static/prettify/example1/images/jt.png" />
          </div>
          <div class="map3">
            <img src="/static/prettify/example1/images/map.png" />
          </div>
          <div class="map4" id="map_1"></div>
        </div>
              
        <div class="boxall">
          <div class="alltitle">sales_analysis</div>
          <div style="height: 2.86rem" id="echart95"></div>
          <div class="boxfoot"></div>
        </div>
                      
        <div class="boxall">
          <div class="alltitle">流程测试010</div>
          <div style="height: 2.86rem" id="echart89"></div>
          <div class="boxfoot"></div>
        </div>
                
      </li>
      <li>
               
        
        <div class="boxall">
          <div class="alltitle">sales_analysis</div>
          <div style="height: 3.47rem" id="echart99"></div>
          <div class="boxfoot"></div>
        </div>
           
        
        <div class="boxall">
          <div class="alltitle">流程测试010</div>
          <div style="height: 3.47rem" id="echart90"></div>
          <div class="boxfoot"></div>
        </div>
                   
        
        <div class="boxall">
          <div class="alltitle">category_wise_sales_analysis</div>
          <div style="height: 3.47rem" id="echart96"></div>
          <div class="boxfoot"></div>
        </div>
           
        
        <div class="boxall">
          <div class="alltitle">流程测试010</div>
          <div style="height: 3.47rem" id="echart82"></div>
          <div class="boxfoot"></div>
        </div>
            
      </li>
    </ul>
  </div>
  <div class="back"></div>
  <script>
    $(window).load(function () {
      $(".loading").fadeOut();
    });
  </script>
  <script>
    function getDashboardData() {
        var DashboardData =document.getElementById("query_result").innerHTML
        DashboardData = eval('(' + DashboardData + ')');
        console.log(DashboardData,"DashboardData")
        return DashboardData
    }
    function echart_code() {
    
    // var dashboard_id = document.getElementById('dashboardId').innerHTML
    var query_result = getDashboardData()
    for (var i = 0; i < query_result.length; i++) {
      $.ajax({
        url: '/api/queries/' + query_result[i].id + '/results/' + query_result[i].latest_query_data_id + '.json',
        type: 'get',
        dataType: 'json',
        success: function (res) {
          console.log(query_result[i], "query_result");
          if (query_result[i] && query_result[i].chart_type == 'table') {
        var table = document.getElementById('table' + query_result[i].id)
        // columns
        var columns = res['query_result']['data']['columns']
        var columns_html = ''
        for (var j = 0; j < columns.length; j++) {
          columns_html += '<span>' + columns[j].name + '</span>'
        }
        table.getElementsByClassName('gdhead')[0].innerHTML = columns_html
        // rows
        var rows = res['query_result']['data']['rows']
        var rows_html = ''
        for (var j = 0; j < rows.length; j++) {
          rows_html += '<li>'
          for (var k = 0; k < columns.length; k++) {
            rows_html += '<span>' + rows[j][columns[k].name] + '</span>'
          }
          rows_html += '</li>'
        }
        table.getElementsByClassName('smjl')[0].innerHTML = rows_html

      } else {
        var chart = echarts.init(document.getElementById('echart' + query_result[i].id))
        var option =query_result[i]['echart_code']
        // console.log(option, "option====")
        option = eval('(' + option + ')');
        var x_field = Object.keys(query_result[i]['columnMapping']).find(key => query_result[i]['columnMapping'][key] === 'x');
        var y_fields = Object.keys(query_result[i]['columnMapping']).filter(key => query_result[i]['columnMapping'][key] === 'y');
        
        if (query_result[i].chart_type == 'line' || query_result[i].chart_type == 'bar' || query_result[i].chart_type == 'area') {
          option.xAxis.data = res['query_result']['data']['rows'].map(function (item) {
            return item[x_field]
          })
          option.series.data = y_fields.map(function (y_field) {
            return res['query_result']['data']['rows'].map(function (item) {
                return item[y_field]
              })
          })
        } else if (query_result[i].chart_type == 'pie') {
          option.series[0].data = res['query_result']['data']['rows'].map(function (item) {
            return {
              name: item[x_field],
              value: y_fields.reduce(function (sum, y_field) {
                return sum + item[y_field]
              }, 0)
            }
          })
        }
        chart.setOption(option)
        window.addEventListener("resize", function () {
          chart.resize()
        })
      }
      }
      })
    }
  }

  $(window).load(function () {
    setInterval(function () {
      echart_code()
    }, 60000)
    echart_code()
  });
    </script>

    <script>
    </script>
</body>

</html>